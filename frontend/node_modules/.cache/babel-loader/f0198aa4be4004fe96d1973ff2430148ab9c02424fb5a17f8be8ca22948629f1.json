{"ast":null,"code":"import _classCallCheck from\"C:/Users/\\u0414\\u0430\\u0440\\u044C\\u044F/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/\\u0414\\u0430\\u0440\\u044C\\u044F/dev/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var _this=this;var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this.addNewCard=function(data,jwt){return fetch(\"\".concat(_this._baseUrl,\"/cards\"),{method:\"POST\",headers:{\"Authorization\":\"Bearer \".concat(jwt),\"Content-Type\":\"application/json\"},body:JSON.stringify({name:data.place,link:data.link})}).then(_this._checkResponse);};this._baseUrl=baseUrl;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){return res.ok?res.json():Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getCard\",value:function getCard(jwt){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:\"GET\",headers:{\"Authorization\":\"Bearer \".concat(jwt)}}).then(this._checkResponse);}},{key:\"deleteCardItem\",value:function deleteCardItem(id,jwt){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id),{method:\"DELETE\",headers:{\"Authorization\":\"Bearer \".concat(jwt),\"Content-Type\":\"application/json\"}}).then(this._checkResponse);}},{key:\"getUserInfo\",value:function getUserInfo(jwt){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"GET\",headers:{\"Authorization\":\"Bearer \".concat(jwt)}}).then(this._checkResponse);}},{key:\"getAppInfo\",value:function getAppInfo(){return Promise.all([this.getCard(localStorage.jwt),this.getUserInfo(localStorage.jwt)]);}},{key:\"setUserInfo\",value:function setUserInfo(data,jwt){return fetch(\"http://localhost:3000/users/me\",{method:\"PATCH\",headers:{\"Authorization\":\"Bearer \".concat(jwt),\"Content-Type\":\"application/json\"},body:JSON.stringify({name:data.name,about:data.about})}).then(this._checkResponse);}},{key:\"setUserAvatar\",value:function setUserAvatar(data,jwt){return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:{\"Authorization\":\"Bearer \".concat(jwt),\"Content-Type\":\"application/json\"},body:JSON.stringify({avatar:data.avatar})}).then(this._checkResponse);}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(id,isLiked,jwt){if(!isLiked){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:\"PUT\",headers:{\"Authorization\":\"Bearer \".concat(jwt)}}).then(this._checkResponse);}else{return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:\"DELETE\",headers:{\"Authorization\":\"Bearer \".concat(jwt)}}).then(this._checkResponse);}}}]);return Api;}();var api=new Api({baseUrl:\"http://api.mesto.kolotilina.nomoredomainsicu.ru\"});export default api;","map":{"version":3,"names":["Api","_ref","_this","baseUrl","headers","_classCallCheck","addNewCard","data","jwt","fetch","concat","_baseUrl","method","body","JSON","stringify","name","place","link","then","_checkResponse","_createClass","key","value","res","ok","json","Promise","reject","status","getCard","deleteCardItem","id","getUserInfo","getAppInfo","all","localStorage","setUserInfo","about","setUserAvatar","avatar","changeLikeCardStatus","isLiked","api"],"sources":["C:/Users/Дарья/dev/react-mesto-api-full-gha/frontend/src/utils/api.js"],"sourcesContent":["class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getCard(jwt) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Authorization\" : `Bearer ${jwt}`\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  addNewCard = (data, jwt) => {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Authorization\" : `Bearer ${jwt}`,\r\n        \"Content-Type\" : \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.place,\r\n        link: data.link,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  };\r\n\r\n  deleteCardItem(id, jwt) {\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Authorization\" : `Bearer ${jwt}`,\r\n        \"Content-Type\" : \"application/json\",\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getUserInfo(jwt) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Authorization\" : `Bearer ${jwt}`\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getAppInfo() {\r\n    return Promise.all([this.getCard(localStorage.jwt), this.getUserInfo(localStorage.jwt)]);\r\n  }\r\n\r\n  setUserInfo(data, jwt) {\r\n    return fetch(`http://localhost:3000/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Authorization\" : `Bearer ${jwt}`,\r\n        \"Content-Type\" : \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  setUserAvatar(data, jwt) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Authorization\" : `Bearer ${jwt}`,\r\n        \"Content-Type\" : \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked, jwt) {\r\n    if (!isLiked) {\r\n      return fetch(`${this._baseUrl}/cards/${id}/likes`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Authorization\" : `Bearer ${jwt}`        },\r\n        }).then(this._checkResponse);\r\n    } else {\r\n      return fetch(`${this._baseUrl}/cards/${id}/likes`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"Authorization\" : `Bearer ${jwt}`\r\n        },\r\n        }).then(this._checkResponse);\r\n    }\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"http://api.mesto.kolotilina.nomoredomainsicu.ru\",\r\n});\r\n\r\nexport default api;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}