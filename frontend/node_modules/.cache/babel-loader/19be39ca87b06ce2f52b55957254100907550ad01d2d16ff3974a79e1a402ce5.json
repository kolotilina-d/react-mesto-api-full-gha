{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u0414\\u0430\\u0440\\u044C\\u044F/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,isSubmit=_ref.isSubmit;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var currentUser=useContext(CurrentUserContext);function handleNameChange(e){setUserName(e.target.value);}function handleAboutChange(e){setDescription(e.target.value);}useEffect(function(){setUserName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);function resetInputs(){onClose();setUserName(currentUser.name);setDescription(currentUser.about);}function handleSubmit(e){e.preventDefault();onUpdateUser({name:userName,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",name:\"info\",formName:\"profile\",isOpen:isOpen,onClose:resetInputs,buttonText:\"Сохранить\",onSubmit:handleSubmit,isSubmit:isSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input\",type:\"text\",id:\"username\",name:\"username\",placeholder:\"\\u0418\\u043C\\u044F\",required:\"\",minLength:2,maxLength:40,onChange:handleNameChange,value:userName||\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\",id:\"username-error\"}),/*#__PURE__*/_jsx(\"input\",{className:\"popup__input\",type:\"text\",id:\"profession\",name:\"profession\",placeholder:\"\\u0412\\u0438\\u0434 \\u0434\\u0435\\u044F\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\",required:\"\",minLength:2,maxLength:200,onChange:handleAboutChange,value:description||\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\",id:\"profession-error\"})]});}export default EditProfilePopup;","map":{"version":3,"names":["useContext","useEffect","useState","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","isSubmit","_useState","_useState2","_slicedToArray","userName","setUserName","_useState3","_useState4","description","setDescription","currentUser","handleNameChange","e","target","value","handleAboutChange","name","about","resetInputs","handleSubmit","preventDefault","title","formName","buttonText","onSubmit","children","className","type","id","placeholder","required","minLength","maxLength","onChange"],"sources":["C:/Users/Дарья/dev/react-mesto-auth/src/components/EditProfilePopup.jsx"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isSubmit }) {\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  function handleNameChange(e) {\r\n    setUserName(e.target.value);\r\n  }\r\n\r\n  function handleAboutChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setUserName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  function resetInputs() {\r\n    onClose();\r\n    setUserName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({ name: userName, about: description });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"info\"\r\n      formName=\"profile\"\r\n      isOpen={isOpen}\r\n      onClose={resetInputs}\r\n      buttonText={\"Сохранить\"}\r\n      onSubmit={handleSubmit}\r\n      isSubmit={isSubmit}\r\n    >\r\n      <input\r\n        className=\"popup__input\"\r\n        type=\"text\"\r\n        id=\"username\"\r\n        name=\"username\"\r\n        placeholder=\"Имя\"\r\n        required=\"\"\r\n        minLength={2}\r\n        maxLength={40}\r\n        onChange={handleNameChange}\r\n        value={userName || \"\"}\r\n      />\r\n      <span className=\"popup__error\" id=\"username-error\" />\r\n      <input\r\n        className=\"popup__input\"\r\n        type=\"text\"\r\n        id=\"profession\"\r\n        name=\"profession\"\r\n        placeholder=\"Вид деятельности\"\r\n        required=\"\"\r\n        minLength={2}\r\n        maxLength={200}\r\n        onChange={handleAboutChange}\r\n        value={description || \"\"}\r\n      />\r\n      <span className=\"popup__error\" id=\"profession-error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}